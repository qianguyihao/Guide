## vdom

### 概念

用 JS 模拟DOM结构，将新旧DOM进行对比，计算出最小的变更，最后更新 DOM。

数据驱动视图的情况下，有效控制DOM操作。

Vue3重写了 vdom算法，优化了性能。

### diff算法

树 diff的时间复杂度 O（n^3）：

- 遍历树1
- 遍历树2
- 排序

上面这种算法太慢了。

优化时间复杂度到O（n）：【重点】

- 只比较同一层级，不跨级比较。
- 标签不相同，则直接删掉重建，不再深度比较。
- 标签和key，两者都相同，则认为是相同节点，不再深度比较。


## 模板编译

## 用 render代替 template

## vue 组件如何渲染和更新

